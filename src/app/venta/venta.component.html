<div class="container">
    <h1>Registro de Ventas</h1>
     <div class="col-6">
            <button class="btn btn-success  col-3 mx-auto mb-3">
                Registrar Venta
            </button>
        </div>
    <hr />
    <div class="row">
      <label for="basic-url" class="form-label">Cliente</label>
      <div class="col-6">
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon3">Ruc / Cedula</span>
          <input
            name="numeroDocumento"
            type="text"
            class="form-control"
            id="basic-url"
            aria-describedby="basic-addon3"
          />
        </div>
      </div>
      <div class="col-6">
        <div class="col-6 input-group mb-3">
          <span class="input-group-text" id="basic-addon3">Nombre</span>
          <input
            disabled
            type="text"
            class="form-control"
            id="basic-url"
            aria-describedby="basic-addon3"
          />
        </div>
      </div>
      <div class="row">
        <div class="col-6">
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon3">Total:</span>
          <input
            type="text"
            class="form-control"
            id="basic-url"
            aria-describedby="basic-addon3"
            disabled
            [value] = "venta.total"
          />
        </div>
        </div>
       
    </div>
    <hr />

    <div class="row" *ngFor="let detalle of venta.detalles; let i = index" [attr.data-index]="i">
        <div class="detalle">
            <div class="row">
                <div class="form-group col-6">
                    <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon3">Producto</span>
                        <select class="form-select" id="producto" name="producto" [(ngModel)]="detalle.producto" (ngModelChange)="actualizarTotalDetalle(detalle)"> 
                            <option *ngFor="let producto of productos" [ngValue]="producto">{{producto.nombre}} - {{producto.codigo}}</option>
                        </select>
                    </div>   
                </div>
                <div class="col-6">
                    <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon3">Cantidad:</span>
                        <input
                        type="text"
                        class="form-control"
                        id="basic-url"
                        aria-describedby="basic-addon3"
                        [(ngModel)] = "detalle.cantidad"
                        (ngModelChange)="actualizarTotalDetalle(detalle)"
                        />
                    </div> 
                </div>
                <div class="col-6">
                    <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon3">Precio:</span>
                        <input
                        type="text"
                        class="form-control"
                        id="basic-url"
                        aria-describedby="basic-addon3"
                        disabled
                        [value] = "detalle.producto?.precioVenta"
                        />
                    </div>
                </div>
                <div class="col-6">
                    <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon3">Total:</span>
                        <input
                        type="text"
                        class="form-control"
                        id="basic-url"
                        aria-describedby="basic-addon3"
                        disabled
                        [value] = "detalle.totalDetalle"
                        />
                    </div>
                </div>
                <div class="col-6">
                    <button class="btn btn-danger col-3 mx-auto mb-3" (click)="eliminarDetalle(i)">Eliminar Detalle</button>
                </div>
            </div>
            <hr />
        </div>
    </div>
    <div class="row">
      <button (click)="agregarDetalle()" class="btn btn-primary col-3 mx-auto mb-3">
        Agregar Detalle
      </button>
     
    </div>

</div>
  </div>
  